{"ast":null,"code":"import _slicedToArray from\"/Users/hillswor/Development/code/phase-4/squatch-spotter-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var onLogin=_ref.onLogin;var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];function handleSubmit(e){e.preventDefault();fetch(\"https://sqautch-spotter-server.onrender.com/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(function(r){return r.json();}).then(function(data){if(data.error){setError(data.error);}else{setEmail(\"\");setPassword(\"\");setError(false);onLogin(data);// Call onLogin with the user data\nhistory.push(\"/users/\".concat(data.id));}});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"Sign in to your account\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"remember\",value:\"true\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md shadow-sm -space-y-px\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email-address\",className:\"sr-only\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email-address\",name:\"email\",type:\"email\",autoComplete:\"email\",required:true,className:\"appearance-none rounded-none relative block w-full px-3 py-2 border border-green-300 placeholder-green-500 text-green-900 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\",placeholder:\"Email address\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"sr-only\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",autoComplete:\"current-password\",required:true,className:\"appearance-none rounded-none relative block w-full px-3 py-2 border border-green-300 placeholder-green-500 text-green-900 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",children:\"Sign in\"})})]})]})});}export default Login;","map":{"version":3,"names":["useState","useHistory","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLogin","history","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","r","json","data","push","concat","id","className","children","onSubmit","type","name","value","htmlFor","autoComplete","required","placeholder","onChange","target"],"sources":["/Users/hillswor/Development/code/phase-4/squatch-spotter-client/src/components/Login.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Login({ onLogin }) {\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetch(\"https://sqautch-spotter-server.onrender.com/login\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, password }),\n    })\n      .then((r) => r.json())\n      .then((data) => {\n        if (data.error) {\n          setError(data.error);\n        } else {\n          setEmail(\"\");\n          setPassword(\"\");\n          setError(false);\n          onLogin(data); // Call onLogin with the user data\n          history.push(`/users/${data.id}`);\n        }\n      });\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Sign in to your account\n          </h2>\n        </div>\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          {error && <p className=\"text-red-500\">{error}</p>}\n          <input type=\"hidden\" name=\"remember\" value=\"true\" />\n          <div className=\"rounded-md shadow-sm -space-y-px\">\n            <div>\n              <label htmlFor=\"email-address\" className=\"sr-only\">\n                Email address\n              </label>\n              <input\n                id=\"email-address\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-green-300 placeholder-green-500 text-green-900 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Email address\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-green-300 placeholder-green-500 text-green-900 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n            >\n              Sign in\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}