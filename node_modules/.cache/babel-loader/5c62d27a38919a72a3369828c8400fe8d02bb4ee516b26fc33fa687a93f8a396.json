{"ast":null,"code":"import _objectSpread from\"/Users/hillswor/Development/code/phase-4/squatch-spotter-client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/hillswor/Development/code/phase-4/squatch-spotter-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Switch,Route,useHistory}from\"react-router-dom\";import Navbar from\"./Navbar\";import Home from\"./Home\";import Signup from\"./Signup\";import Login from\"./Login\";import MyAccount from\"./MyAccount\";import Sighting from\"./Sighting\";import ReportSighting from\"./ReportSighting\";import EditSighting from\"./EditSighting\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loggedIn=_useState2[0],setLoggedIn=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var history=useHistory();useEffect(function(){checkUserSession();},[]);var checkUserSession=function checkUserSession(){fetch(\"https://sqautch-spotter-server.onrender.com/check-session\").then(function(response){return response.json();}).then(function(data){if(data.id){setUser(data);setLoggedIn(true);}else{setUser(null);setLoggedIn(false);}}).catch(function(error){console.error(\"Error checking user session: \",error);});};var handleLogin=function handleLogin(user){setUser(user);setLoggedIn(true);history.push(\"/users/\".concat(user.id));};var handleLogout=function handleLogout(){fetch(\"https://sqautch-spotter-server.onrender.com/logout\",{method:\"DELETE\"}).then(function(){setUser(null);setLoggedIn(false);history.push(\"/\");}).catch(function(error){console.error(\"Error logging out: \",error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{loggedIn:loggedIn,onLogout:handleLogout}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signup\",render:function render(props){return/*#__PURE__*/_jsx(Signup,_objectSpread(_objectSpread({},props),{},{onLogin:handleLogin}));}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",render:function render(props){return/*#__PURE__*/_jsx(Login,_objectSpread(_objectSpread({},props),{},{onLogin:handleLogin}));}}),/*#__PURE__*/_jsx(Route,{path:\"/users/:id\",render:function render(props){return/*#__PURE__*/_jsx(MyAccount,_objectSpread(_objectSpread({},props),{},{user:user}));}}),/*#__PURE__*/_jsx(Route,{path:\"/sightings/:id/edit\",render:function render(props){return/*#__PURE__*/_jsx(EditSighting,_objectSpread(_objectSpread({},props),{},{loggedIn:loggedIn,user:user}));}}),/*#__PURE__*/_jsx(Route,{path:\"/sightings/:id\",render:function render(props){return/*#__PURE__*/_jsx(Sighting,_objectSpread(_objectSpread({},props),{},{loggedIn:loggedIn,user:user}));}}),/*#__PURE__*/_jsx(Route,{path:\"/report-sighting\",render:function render(props){return/*#__PURE__*/_jsx(ReportSighting,_objectSpread(_objectSpread({},props),{},{loggedIn:loggedIn,user:user}));}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:Home})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Switch","Route","useHistory","Navbar","Home","Signup","Login","MyAccount","Sighting","ReportSighting","EditSighting","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","loggedIn","setLoggedIn","_useState3","_useState4","user","setUser","history","checkUserSession","fetch","then","response","json","data","id","catch","error","console","handleLogin","push","concat","handleLogout","method","children","onLogout","exact","path","render","props","_objectSpread","onLogin","component"],"sources":["/Users/hillswor/Development/code/phase-4/squatch-spotter-client/src/components/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport Navbar from \"./Navbar\";\nimport Home from \"./Home\";\nimport Signup from \"./Signup\";\nimport Login from \"./Login\";\nimport MyAccount from \"./MyAccount\";\nimport Sighting from \"./Sighting\";\nimport ReportSighting from \"./ReportSighting\";\nimport EditSighting from \"./EditSighting\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [user, setUser] = useState(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    checkUserSession();\n  }, []);\n\n  const checkUserSession = () => {\n    fetch(\"https://sqautch-spotter-server.onrender.com/check-session\")\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.id) {\n          setUser(data);\n          setLoggedIn(true);\n        } else {\n          setUser(null);\n          setLoggedIn(false);\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error checking user session: \", error);\n      });\n  };\n\n  const handleLogin = (user) => {\n    setUser(user);\n    setLoggedIn(true);\n    history.push(`/users/${user.id}`);\n  };\n\n  const handleLogout = () => {\n    fetch(\"https://sqautch-spotter-server.onrender.com/logout\", {\n      method: \"DELETE\",\n    })\n      .then(() => {\n        setUser(null);\n        setLoggedIn(false);\n        history.push(\"/\");\n      })\n      .catch((error) => {\n        console.error(\"Error logging out: \", error);\n      });\n  };\n\n  return (\n    <div>\n      <Navbar loggedIn={loggedIn} onLogout={handleLogout} />\n      <Switch>\n        <Route\n          exact\n          path=\"/signup\"\n          render={(props) => <Signup {...props} onLogin={handleLogin} />}\n        />\n        <Route\n          exact\n          path=\"/login\"\n          render={(props) => <Login {...props} onLogin={handleLogin} />}\n        />\n        <Route\n          path=\"/users/:id\"\n          render={(props) => <MyAccount {...props} user={user} />}\n        />\n        <Route\n          path=\"/sightings/:id/edit\"\n          render={(props) => (\n            <EditSighting {...props} loggedIn={loggedIn} user={user} />\n          )}\n        />\n        <Route\n          path=\"/sightings/:id\"\n          render={(props) => (\n            <Sighting {...props} loggedIn={loggedIn} user={user} />\n          )}\n        />\n        <Route\n          path=\"/report-sighting\"\n          render={(props) => (\n            <ReportSighting {...props} loggedIn={loggedIn} user={user} />\n          )}\n        />\n        <Route exact path=\"/\" component={Home} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}