{"ast":null,"code":"import _slicedToArray from\"/Users/hillswor/Development/code/phase-4/squatch-spotter-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MyAccount(_ref){var user=_ref.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),sightings=_useState2[0],setSightings=_useState2[1];useEffect(function(){fetch(\"https://sqautch-spotter-server.onrender.com/users/\".concat(user.id,\"/sightings\")).then(function(response){return response.json();}).then(function(data){setSightings(data);}).catch(function(error){console.error(\"Error fetching user sightings: \",error);});},[user.id]);var handleDeleteSighting=function handleDeleteSighting(sightingId){fetch(\"https://sqautch-spotter-server.onrender.com/sightings/\".concat(sightingId),{method:\"DELETE\"}).then(function(response){return response.json();}).then(function(){// Remove the deleted sighting from the state\nsetSightings(function(prevSightings){return prevSightings.filter(function(sighting){return sighting.id!==sightingId;});});}).catch(function(error){console.error(\"Error deleting sighting: \",error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto mt-40\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",children:\"My Account\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-stone-200 shadow-inherit overflow-hidden sm:rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:px-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-green-800\",children:\"User Information\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 font-medium text-green-600\",children:[\"Email: \",user.email]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-4\",children:\"My Sightings\"}),sightings.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:sightings.map(function(sighting){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-stone-200 shadow-inherit overflow-hidden sm:rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:px-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg leading-6 font-medium text-green-800\",children:[sighting.location.name,\", \",sighting.location.state]}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm leading-6 font-medium text-green-600\",children:new Date(sighting.sighting_date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 max-w-2xl text-sm text-green-1000\",children:sighting.description}),/*#__PURE__*/_jsx(Link,{to:\"/sightings/\".concat(sighting.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"mt-3 w-full px-6 py-2 text-xs font-medium leading-6 text-center text-white uppercase transition bg-green-500 rounded shadow ripple hover:shadow-lg hover:bg-green-600 focus:outline-none\",children:\"Sighting Details\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end mt-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/sightings/\".concat(sighting.id,\"/edit\"),className:\"mr-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 text-xs font-medium leading-6 text-center text-white uppercase transition bg-green-500 rounded shadow ripple hover:shadow-lg hover:bg-green-600 focus:outline-none\",children:\"Edit\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 text-xs font-medium leading-6 text-center text-white uppercase transition bg-red-500 rounded shadow ripple hover:shadow-lg hover:bg-red-600 focus:outline-none\",onClick:function onClick(){return handleDeleteSighting(sighting.id);},children:\"Delete\"})]})]})},sighting.id);})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-green-800\",children:\"You haven't made any sightings yet.\"})]})]});}export default MyAccount;","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","MyAccount","_ref","user","_useState","_useState2","_slicedToArray","sightings","setSightings","fetch","concat","id","then","response","json","data","catch","error","console","handleDeleteSighting","sightingId","method","prevSightings","filter","sighting","className","children","email","length","map","location","name","state","Date","sighting_date","toLocaleDateString","description","to","onClick"],"sources":["/Users/hillswor/Development/code/phase-4/squatch-spotter-client/src/components/MyAccount.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction MyAccount({ user }) {\n  const [sightings, setSightings] = useState([]);\n\n  useEffect(() => {\n    fetch(\n      `https://sqautch-spotter-server.onrender.com/users/${user.id}/sightings`\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        setSightings(data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching user sightings: \", error);\n      });\n  }, [user.id]);\n\n  const handleDeleteSighting = (sightingId) => {\n    fetch(\n      `https://sqautch-spotter-server.onrender.com/sightings/${sightingId}`,\n      {\n        method: \"DELETE\",\n      }\n    )\n      .then((response) => response.json())\n      .then(() => {\n        // Remove the deleted sighting from the state\n        setSightings((prevSightings) =>\n          prevSightings.filter((sighting) => sighting.id !== sightingId)\n        );\n      })\n      .catch((error) => {\n        console.error(\"Error deleting sighting: \", error);\n      });\n  };\n\n  return (\n    <div className=\"max-w-2xl mx-auto mt-40\">\n      <h2 className=\"text-3xl font-bold mb-4\">My Account</h2>\n      <div className=\"bg-stone-200 shadow-inherit overflow-hidden sm:rounded-lg\">\n        <div className=\"px-4 py-5 sm:px-6\">\n          <h3 className=\"text-lg leading-6 font-medium text-green-800\">\n            User Information\n          </h3>\n          <div className=\"mt-4\">\n            <p className=\"text-sm leading-6 font-medium text-green-600\">\n              Email: {user.email}\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"mt-6\">\n        <h3 className=\"text-2xl font-bold mb-4\">My Sightings</h3>\n        {sightings.length > 0 ? (\n          <div className=\"space-y-4\">\n            {sightings.map((sighting) => (\n              <div\n                key={sighting.id}\n                className=\"bg-stone-200 shadow-inherit overflow-hidden sm:rounded-lg\"\n              >\n                <div className=\"px-4 py-5 sm:px-6\">\n                  <h3 className=\"text-lg leading-6 font-medium text-green-800\">\n                    {sighting.location.name}, {sighting.location.state}\n                  </h3>\n                  <h4 className=\"text-sm leading-6 font-medium text-green-600\">\n                    {new Date(sighting.sighting_date).toLocaleDateString()}\n                  </h4>\n                  <p className=\"mt-1 max-w-2xl text-sm text-green-1000\">\n                    {sighting.description}\n                  </p>\n                  <Link to={`/sightings/${sighting.id}`}>\n                    <button className=\"mt-3 w-full px-6 py-2 text-xs font-medium leading-6 text-center text-white uppercase transition bg-green-500 rounded shadow ripple hover:shadow-lg hover:bg-green-600 focus:outline-none\">\n                      Sighting Details\n                    </button>\n                  </Link>\n                  <div className=\"flex justify-end mt-2\">\n                    <Link\n                      to={`/sightings/${sighting.id}/edit`}\n                      className=\"mr-2\"\n                    >\n                      <button className=\"px-4 py-2 text-xs font-medium leading-6 text-center text-white uppercase transition bg-green-500 rounded shadow ripple hover:shadow-lg hover:bg-green-600 focus:outline-none\">\n                        Edit\n                      </button>\n                    </Link>\n                    <button\n                      className=\"px-4 py-2 text-xs font-medium leading-6 text-center text-white uppercase transition bg-red-500 rounded shadow ripple hover:shadow-lg hover:bg-red-600 focus:outline-none\"\n                      onClick={() => handleDeleteSighting(sighting.id)}\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-green-800\">You haven't made any sightings yet.</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default MyAccount;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}