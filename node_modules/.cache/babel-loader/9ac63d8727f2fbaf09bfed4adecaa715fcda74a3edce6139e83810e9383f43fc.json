{"ast":null,"code":"var _jsxFileName = \"/Users/hillswor/Development/code/phase-4/squatch-spotter-client/src/components/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport Navbar from \"./Navbar\";\nimport Home from \"./Home\";\nimport Signup from \"./Signup\";\nimport Login from \"./Login\";\nimport MyAccount from \"./MyAccount\";\nimport Sighting from \"./Sighting\";\nimport ReportSighting from \"./ReportSighting\";\nimport EditSighting from \"./EditSighting\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [user, setUser] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    checkUserSession();\n  }, []);\n  const checkUserSession = () => {\n    fetch(\"https://squatch-spotter-server.onrender.com/check-session\").then(response => response.json()).then(data => {\n      if (data.id) {\n        setUser(data);\n        setLoggedIn(true);\n      } else {\n        setUser(null);\n        setLoggedIn(false);\n      }\n    }).catch(error => {\n      console.error(\"Error checking user session: \", error);\n    });\n  };\n  const handleLogin = user => {\n    setUser(user);\n    setLoggedIn(true);\n    history.push(`/users/${user.id}`);\n  };\n  const handleLogout = () => {\n    fetch(\"https://squatch-spotter-server.onrender.com/logout\", {\n      method: \"DELETE\"\n    }).then(() => {\n      setUser(null);\n      setLoggedIn(false);\n      history.push(\"/\");\n    }).catch(error => {\n      console.error(\"Error logging out: \", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      loggedIn: loggedIn,\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/signup\",\n        render: props => /*#__PURE__*/_jsxDEV(Signup, {\n          ...props,\n          onLogin: handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/login\",\n        render: props => /*#__PURE__*/_jsxDEV(Login, {\n          ...props,\n          onLogin: handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/users/:id\",\n        render: props => /*#__PURE__*/_jsxDEV(MyAccount, {\n          ...props,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/sightings/:id/edit\",\n        render: props => /*#__PURE__*/_jsxDEV(EditSighting, {\n          ...props,\n          loggedIn: loggedIn,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/sightings/:id\",\n        render: props => /*#__PURE__*/_jsxDEV(Sighting, {\n          ...props,\n          loggedIn: loggedIn,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/report-sighting\",\n        render: props => /*#__PURE__*/_jsxDEV(ReportSighting, {\n          ...props,\n          loggedIn: loggedIn,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        component: Home\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"o0pPqn8AsF/jGZGTkH5e+UB3tdc=\", false, function () {\n  return [useHistory];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Switch","Route","useHistory","Navbar","Home","Signup","Login","MyAccount","Sighting","ReportSighting","EditSighting","jsxDEV","_jsxDEV","App","_s","loggedIn","setLoggedIn","user","setUser","history","checkUserSession","fetch","then","response","json","data","id","catch","error","console","handleLogin","push","handleLogout","method","children","onLogout","fileName","_jsxFileName","lineNumber","columnNumber","exact","path","render","props","onLogin","component","_c","$RefreshReg$"],"sources":["/Users/hillswor/Development/code/phase-4/squatch-spotter-client/src/components/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport Navbar from \"./Navbar\";\nimport Home from \"./Home\";\nimport Signup from \"./Signup\";\nimport Login from \"./Login\";\nimport MyAccount from \"./MyAccount\";\nimport Sighting from \"./Sighting\";\nimport ReportSighting from \"./ReportSighting\";\nimport EditSighting from \"./EditSighting\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [user, setUser] = useState(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    checkUserSession();\n  }, []);\n\n  const checkUserSession = () => {\n    fetch(\"https://squatch-spotter-server.onrender.com/check-session\")\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.id) {\n          setUser(data);\n          setLoggedIn(true);\n        } else {\n          setUser(null);\n          setLoggedIn(false);\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error checking user session: \", error);\n      });\n  };\n\n  const handleLogin = (user) => {\n    setUser(user);\n    setLoggedIn(true);\n    history.push(`/users/${user.id}`);\n  };\n\n  const handleLogout = () => {\n    fetch(\"https://squatch-spotter-server.onrender.com/logout\", {\n      method: \"DELETE\",\n    })\n      .then(() => {\n        setUser(null);\n        setLoggedIn(false);\n        history.push(\"/\");\n      })\n      .catch((error) => {\n        console.error(\"Error logging out: \", error);\n      });\n  };\n\n  return (\n    <div>\n      <Navbar loggedIn={loggedIn} onLogout={handleLogout} />\n      <Switch>\n        <Route\n          exact\n          path=\"/signup\"\n          render={(props) => <Signup {...props} onLogin={handleLogin} />}\n        />\n        <Route\n          exact\n          path=\"/login\"\n          render={(props) => <Login {...props} onLogin={handleLogin} />}\n        />\n        <Route\n          path=\"/users/:id\"\n          render={(props) => <MyAccount {...props} user={user} />}\n        />\n        <Route\n          path=\"/sightings/:id/edit\"\n          render={(props) => (\n            <EditSighting {...props} loggedIn={loggedIn} user={user} />\n          )}\n        />\n        <Route\n          path=\"/sightings/:id\"\n          render={(props) => (\n            <Sighting {...props} loggedIn={loggedIn} user={user} />\n          )}\n        />\n        <Route\n          path=\"/report-sighting\"\n          render={(props) => (\n            <ReportSighting {...props} loggedIn={loggedIn} user={user} />\n          )}\n        />\n        <Route exact path=\"/\" component={Home} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}